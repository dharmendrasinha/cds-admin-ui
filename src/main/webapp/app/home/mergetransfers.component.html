<div class="p-3">
    <div class="row">
        <div class="col-sm-12">
            <form [formGroup]="searchForm">
            <mat-tab-group animationDuration="0ms">
                <mat-tab label="Mergers">
                    <div class="pt-3">
                        <div class="float-left">
                            <div style="width: 400px">
                                <mat-form-field class="example-full-width">
                                    <input type="text" placeholder="Customer" formControlName="mergerCustomer" matInput [matAutocomplete]="mergerCustomer">
                                    <mat-autocomplete #mergerCustomer="matAutocomplete" (optionSelected)='getMergers($event.option.id)'>
                                        <mat-option *ngFor="let option of mergerFilteredOptions | async" [value]="option.customerName" [id]="option.id">
                                            {{option.customerName}}
                                        </mat-option>
                                    </mat-autocomplete>
                                </mat-form-field>
                            </div>
                        </div>
                    </div>
                    <div class="my-2 w-100">
                        <table mat-table [dataSource]="mergerDataSource" class="mat-elevation-z8">
                            <ng-container matColumnDef="mergerId">
                                <th mat-header-cell *matHeaderCellDef class="d-none"> mergerId </th>
                                <td mat-cell *matCellDef="let element" class="d-none"> {{element.mergerId}} </td>
                            </ng-container>

                            <ng-container matColumnDef="noteId">
                                <th mat-header-cell *matHeaderCellDef class="d-none"> noteId </th>
                                <td mat-cell *matCellDef="let element" class="d-none"> {{element.noteId}} </td>
                            </ng-container>

                            <ng-container matColumnDef="industry">
                                <th mat-header-cell *matHeaderCellDef> Industry </th>
                                <td mat-cell *matCellDef="let element"> {{element.industry}} </td>
                            </ng-container>

                            <ng-container matColumnDef="noteNo">
                                <th mat-header-cell *matHeaderCellDef> Note Number </th>
                                <td mat-cell *matCellDef="let element"> {{element.noteNo}} </td>
                            </ng-container>

                            <ng-container matColumnDef="instrumentType">
                                <th mat-header-cell *matHeaderCellDef> Instrument Type </th>
                                <td mat-cell *matCellDef="let element"> {{element.instrumentType}} </td>
                            </ng-container>

                            <ng-container matColumnDef="effectiveDate">
                                <th mat-header-cell *matHeaderCellDef> Effective Date </th>
                                <td mat-cell *matCellDef="let element"> {{element.effectiveDate}} </td>
                            </ng-container>

                            <ng-container matColumnDef="customerFrom">
                                <th mat-header-cell *matHeaderCellDef> From Customer </th>
                                <td mat-cell *matCellDef="let element"> {{element.customerFrom.customerName}} </td>
                            </ng-container>

                            <ng-container matColumnDef="customerTo">
                                <th mat-header-cell *matHeaderCellDef> To Customer </th>
                                <td mat-cell *matCellDef="let element"> {{element.customerTo.customerName}} </td>
                            </ng-container>

                            <ng-container matColumnDef="action">
                                <th mat-header-cell *matHeaderCellDef> Action </th>
                                <td mat-cell *matCellDef="let element">
                                    <a *ngIf="element.mergerId !== null || element.mergerId !== 'null'" (click)="openMergerDialog(element)" class="text-primary"><fa-icon icon="undo" class="pr-2" size="lg"></fa-icon></a>
                                    <fa-icon *ngIf="element.mergerId === null || element.mergerId === 'null'" icon="undo" class="pr-2 text-secondary" size="lg"></fa-icon>
                                </td>
                            </ng-container>

                            <tr mat-header-row *matHeaderRowDef="displayedColumnsMergers"></tr>
                            <tr mat-row *matRowDef="let row; let even = even; columns: displayedColumnsMergers;" [ngClass]="{'gray': even}" class="cursor-pointer"></tr>
                        </table>
                    </div>
                    <div class="mt-3">
                        <div class="float-right"><a routerLink="/mergertransfer">View All</a></div>
                        <div class="clearfix"></div>
                    </div>
                </mat-tab>
                <mat-tab label="Transfers">
                    <div class="pt-3">
                        <div class="float-left">
                            <div style="width: 400px">
                                <mat-form-field class="example-full-width">
                                    <input type="text" placeholder="Customer" formControlName="transferCustomer" matInput [matAutocomplete]="transferCustomer">
                                    <mat-autocomplete #transferCustomer="matAutocomplete" (optionSelected)='getTransfers($event.option.id)'>
                                        <mat-option *ngFor="let option of transferFilteredOptions | async" [value]="option.customerName" [id]="option.id">
                                            {{option.customerName}}
                                        </mat-option>
                                    </mat-autocomplete>
                                </mat-form-field>
                            </div>
                        </div>
                    </div>
                    <div class="my-2">
                        <table mat-table [dataSource]="transferDataSource" class="mat-elevation-z8">
                            <ng-container matColumnDef="transferId">
                                <th mat-header-cell *matHeaderCellDef class="d-none"> transferId </th>
                                <td mat-cell *matCellDef="let element" class="d-none"> {{element.transferId}} </td>
                            </ng-container>

                            <ng-container matColumnDef="noteId">
                                <th mat-header-cell *matHeaderCellDef class="d-none"> noteId </th>
                                <td mat-cell *matCellDef="let element" class="d-none"> {{element.noteId}} </td>
                            </ng-container>

                            <ng-container matColumnDef="industry">
                                <th mat-header-cell *matHeaderCellDef> Industry </th>
                                <td mat-cell *matCellDef="let element"> {{element.industry}} </td>
                            </ng-container>

                            <ng-container matColumnDef="noteNo">
                                <th mat-header-cell *matHeaderCellDef> Note Number </th>
                                <td mat-cell *matCellDef="let element"> {{element.noteNo}} </td>
                            </ng-container>

                            <ng-container matColumnDef="instrumentType">
                                <th mat-header-cell *matHeaderCellDef> Instrument Type </th>
                                <td mat-cell *matCellDef="let element"> {{element.instrumentType}} </td>
                            </ng-container>

                            <ng-container matColumnDef="effectiveDate">
                                <th mat-header-cell *matHeaderCellDef> Effective Date </th>
                                <td mat-cell *matCellDef="let element"> {{element.effectiveDate}} </td>
                            </ng-container>

                            <ng-container matColumnDef="customerFrom">
                                <th mat-header-cell *matHeaderCellDef> From Customer </th>
                                <td mat-cell *matCellDef="let element"> {{element.customerFrom.customerName}} </td>
                            </ng-container>

                            <ng-container matColumnDef="customerTo">
                                <th mat-header-cell *matHeaderCellDef> To Customer </th>
                                <td mat-cell *matCellDef="let element"> {{element.customerTo.customerName}} </td>
                            </ng-container>

                            <ng-container matColumnDef="action">
                                <th mat-header-cell *matHeaderCellDef> Action </th>
                                <td mat-cell *matCellDef="let element">
                                    <a *ngIf="element.transferId !== null || element.transferId !== 'null'" (click)="openTransferDialog(element)" class="text-primary"><fa-icon icon="undo" class="pr-2" size="lg"></fa-icon></a>
                                    <fa-icon *ngIf="element.transferId === null || element.transferId === 'null'" icon="undo" class="pr-2 text-secondary" size="lg"></fa-icon>
                                </td>
                            </ng-container>

                            <tr mat-header-row *matHeaderRowDef="displayedColumnsTransfers"></tr>
                            <tr mat-row *matRowDef="let row; let even = even; columns: displayedColumnsTransfers;" [ngClass]="{'gray': even}" class="cursor-pointer"></tr>
                        </table>
                    </div>
                    <div class="mt-3">
                        <div class="float-right"><a routerLink="/mergertransfer">View All</a></div>
                        <div class="clearfix"></div>
                    </div>
                </mat-tab>
            </mat-tab-group>
            </form>
        </div>
    </div>
</div>
